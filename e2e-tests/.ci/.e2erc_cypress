# Utility variables
# NB: these assume you `source` them from the directory this file is in

export MME2E_DC_SERVER="docker compose -p mmserver -f $(readlink -f ./$DC_FILE) -f $(readlink -f ./docker-compose.cypress.yml)"
export MME2E_DC_DASHBOARD="docker compose -p mmdashboard -f $(readlink -f ./dashboard/docker/docker-compose.yml) -f $(readlink -f ./dashboard.override.yml)"

# NB:
# - Cypress entire tests require a test server with full services such as postgres, inbucket, minio, openldap,
# elasticsearch and keycloak.
# - For local development, if you know the services required by the test your working on, environment variable
# ENABLED_DOCKER_SERVICES can be set to a subset of services for lightweight and faster start up time.
export ENABLED_DOCKER_SERVICES=${ENABLED_DOCKER_SERVICES:-postgres inbucket minio openldap elasticsearch keycloak}

# Utility alias, for interactive shell usage. Can be reversed with 'unalias docker-compose' in your shell
# NB: this won't work in the script
alias docker-compose-mmserver="${MME2E_DC_SERVER}"
alias docker-compose-mmdashboard="${MME2E_DC_DASHBOARD}"
